{% extends 'base.html' %}
{% load static %}
{% block title %}{{ block.super }}{% endblock title %}
{% block style %}
ul li { display: flex; flex-direction: row; flex-wrap: wrap; justify-content: flex_start; gap: 2rem; }
ul img { width: 400px; }
ul hr { margin: 0; border: 1px solid #020d0d; border-radius: 10px; }
ul .li_padding { padding-top: 1rem; }
ul .car_image { border: 2px solid #020d0d; border-radius: 10px; }
ul li div { height: 100%; text-align: left; }
ul li p { margin: 0; padding-bottom: 6px; }
ul li h4 { margin: 0; padding-bottom: 6px; }
{% endblock style %}
{% block content %}
<h1>Car details</h1>
<h2>{{ object.car_model.brand }} {{ object.car_model.model }}</h2>
<ul>
    <li>
        <div>
            {% if object.car_image %}
            <img class="car_image" src="{{ object.car_image.url }}">
            {% else %}
                <img src="{% static 'car_repair_servis/img/default_car_small.png' %}">
            {% endif %}
        </div>
        <div>
            <p>Owner: {{ object.client }}</p>
            <p>Plate number: {{ object.plate_number }}</p>
            <p>Vin number: {{ object.vin_number }}</p>
            <p>Year of production: {{ object.year }}</p>
            <p>Engine type: {{ object.get_engine_display }}</p>
            <p>Color: {{ object.color }}</p>
        </div>
    </li>
    {% if object.orders.count > 0 %}
    <hr>
    <li class="li_padding">
        {% for order in object.orders.all %}
        <div>
            <h4>Order detail:</h4>
            <p>Submission date: {{ order.date_start }}</p>
            <p>Planned completion date: {{ order.date_finish }}</p>
            <p>Status: {{ order.get_status_display }}</p>
            {% comment %} {% if object.orders.count > 0 %}
            <p>Services:</p>
            {% for service in object.orders.all %}
            <p>{{ service }}</p>
            {% endfor %}
            {% endif %} {% endcomment %}
            <p>Total price: {{ order.total_order_sum }}</p>
        </div>
        {% endfor %}</p>
    </li>
    <hr>
    {% endif %}
</ul>
{% endblock content %}