{% extends 'base.html' %}
{% load i18n %}
{% block title %}{{ block.super }}{% endblock title %}
{% block style %}
table { width: 100%; text-align: center; padding: 20px; }
.total_price { font-weight: bold; }
{% endblock style %}
{% block content %}
<h1>Order details</h1>
<h2>{{ object.car.car_model }} ({{ object.car.plate_number }})</h2>
<div>
    <table>
        <tr>
            <th>Submission date</th>
            <th>Planned completion date</th>
            <th>Status</th>
            {% if object.order_lines.count > 0 %}
            <th colspan="2">Services</th>
            {% endif %}
            <th class="total_price">Total price</th>
        </tr>
        <tr>
            <td>{{ object.date_start }}</td>
            <td>{{ object.date_finish }}</td>
            <td>{{ object.get_status_display }}</td>
            {% if object.order_lines.count > 0 %}
            {% for service in object.order_lines.all %}
            <td>{{ service.service }} (quantity: {{ service.quantity }})</td>
            {% endfor %}
            {% endif %}
            <td class="total_price">{{ object.total_order_sum }}</td>
        </tr>
    </table>
</div>
{% endblock content %}